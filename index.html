<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, user-scalable=YES, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
    <script type='text/javascript' src='https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js'></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.1/dist/mindar-image-aframe.prod.js"></script>
    <script src="https://unpkg.com/aframe-event-set-component@5/dist/aframe-event-set-component.min.js"></script>
    <script src="https://unpkg.com/aframe-layout-component@5.3.0/dist/aframe-layout-component.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.2.1/dist/mindar-image.prod.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.2.1/dist/mindar-image-aframe.prod.js"></script>
    <script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script>
    <title>PatoMania</title>
</head>
<body>


  
    <a-scene class="scene" embedded vr-mode-ui="enabled: false" arjs="trackingMethod: best; sourceType: webcam; detectionMode: mono_and_matrix; matrixCodeType: 3x3; debugUIEnabled: false; changeMatrixMode: cameraTransformMatrix">
        
        <a-assets>
          <audio id="click-sound" crossorigin="anonymous" src="https://cdn.aframe.io/360-image-gallery-boilerplate/audio/click.ogg"></audio>
          <img id="PatoReal←" src="./assets/img/←PatoReal.PNG"/>
          <img id="PatoReal→" src="./assets/img/→PatoReal.PNG"/>
          <img id="PatoFilhote←" src="./assets/img/←PatoFilhote.PNG"/>
          <img id="PatoFilhote→" src="./assets/img/→PatoFilhote.PNG"/>
          <img id="PatoRipper←" src="./assets/img/←PatoRipper.PNG"/>
          <img id="PatoRipper→" src="./assets/img/→PatoRipper.PNG"/>
          <img id="PatoMandarim←" src="./assets/img/←PatoMandarim.PNG"/>
          <img id="PatoMandarim→" src="./assets/img/→PatoMandarim.PNG"/>
          <img id="Ornitorrinco←" src="./assets/img/←Ornitorrinco.PNG"/>
          <img id="Ornitorrinco→" src="./assets/img/→Ornitorrinco.PNG"/>
          <img id="BarraDireita" src="./assets/img/BarraDireita.png"/>
          <img id="BarraEsquerda" src="./assets/img/BarraEsquerda.png"/>
          <img id="ParteSuperiorBarraca" src="./assets/img/ParteSuperiorBarraca.png"/>
          <img id="ParteInferiorBarraca" src="./assets/img/ParteInferiorBarraca.png"/>
          <img id="CenarioUm" src="./assets/img/CenarioUm.png"/>
          <img id="CenarioDois" src="./assets/img/CenarioDois.png"/>
          <img id="FundoBarraca" src="./assets/img/FundoBarraca.PNG"/>
          <img id="mira" src="./assets/img/mira.png"/>
        </a-assets>

        
      <a-entity id="inicial" position="0 0 0">
          <a-gui-flex-container panel-color="#90022d" flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1" opacity="0.7" width="6.5" height="6.5" panel-color="#072B73" panel-rounded="0.2" position="0 0.8 -14" rotation="0 0 0"></a-gui-flex-container>
          <a-text position="-0.65 2 -4" color="#f4dacb" value="PATOMANIA"></a-text> 
          <a-gui-button active-color="#af3d1d" hover-color="#af3d1d" font-color="#f4dacb" background-color="#DE4F26" border-color="#c8272c" width="1.5"  height="0.5"  base-depth="0.025"  depth="0.1" gap="0.1" border-radius="1" onclick="openMenuFases()" value="FASES"  position="0 1.4 -4" font-size="0.1" margin="0 0 0.05 0"></a-gui-button>
          <a-gui-button active-color="#af3d1d" hover-color="#af3d1d" font-color="#f4dacb" background-color="#DE4F26" border-color="#c8272c" width="1.5"  height="0.5"  base-depth="0.025"  depth="0.1" gap="0.1" border-radius="1" onclick="openScore()" value="PONTUAÇÕES"  position="0 0.8 -4" font-size="0.1" margin="0 0 0.05 0"></a-gui-button>
      </a-entity>

      <a-entity id="menuFases" position="0 10 14" visible="false">
        <a-gui-flex-container panel-color="#90022d" flex-direction="column" justify-content="center" align-items="normal" component-padding="0.1" opacity="0.7" width="6.5" height="9.5" panel-color="#072B73" panel-rounded="0.2" position="0 0.8 -14" rotation="0 0 0"></a-gui-flex-container>
        <a-text position="-0.3 2.4 -4" color="#f4dacb" value="Fases"></a-text> 
        <a-gui-button id="menuFases" active-color="#af3d1d" hover-color="#af3d1d" font-color="#f4dacb" background-color="#DE4F26" border-color="#c8272c" width="1.5"  height="0.5"  base-depth="0.025"  depth="0.1" gap="0.1" border-radius="1" onclick="initTelepata()" value="1 - Telepata" position="0 1.8 -4" font-size="0.1" margin="0 0 0.05 0"></a-gui-button>
        <a-gui-button id="menuFases" active-color="#af3d1d" hover-color="#af3d1d" font-color="#f4dacb" background-color="#DE4F26" border-color="#c8272c" width="1.5"  height="0.5"  base-depth="0.025"  depth="0.1" gap="0.1" border-radius="1" onclick="initPsicopata()" value="2 - Psicopata" position="0 1.2 -4" font-size="0.1" margin="0 0 0.05 0"></a-gui-button>
        <a-gui-button id="menuFases" active-color="#af3d1d" hover-color="#af3d1d" font-color="#f4dacb" background-color="#DE4F26" border-color="#c8272c" width="1.5"  height="0.5"  base-depth="0.025"  depth="0.1" gap="0.1" border-radius="1" onclick="initPatocidio()" value="3 - Patocidio!" position="0 0.6 -4" font-size="0.1" margin="0 0 0.05 0"></a-gui-button>
        <a-gui-icon-button height="0.2" onclick="closeMenuFases()" icon="a" margin="0 0 0.05 0" border-color="#DE4F26" background-color="#c8272c" hover-color="#af3d1d" active-color="#af3d1d" position="0.7 2.5 -4"></a-gui-icon-button>
        <a-text height="2.5" width="2.5" position="0.48 2.28 -3" color="#f4dacb" value="X"></a-text> 
      </a-entity>

      <a-entity id="Telepata" position="0 0.8 50" visible="false">
        <a-image click-listener src="#mira" class="Barraca" id="Barraca" position="0 1 -16.8" scale="12 12 12"></a-image>


        <a-entity position="-2 0.5 -16" id="Mandarim1" animation="">
            <a-image click-listener src="#PatoMandarim→" class="PatoRipper→" scale="3 3 3"></a-image>
        </a-entity>
        <a-entity click-listener position="2 0.5 -15" id="Filhote1" animation="">
            <a-image src="#PatoFilhote←" class="PatoFilhote←" id="Barraca" scale="3 3 3"></a-image>
        </a-entity>
        <a-entity position="-3 0.5 -15" id="Filhote" animation="">
          <a-image click-listener src="#PatoFilhote←" class="PatoFilhote←" id="Barraca" scale="3 3 3"></a-image>
      </a-entity>

        
        <a-image click-listener src="#CenarioUm" class="CenarioUm" id="Barraca" position="0 -4.2 -14.6" scale="12 12 12"></a-image>
        

        <a-entity id="PatoReal1" position="2.5 -1.3 -14.2" id="PatoReal" animation="">
            <a-image click-listener src="#PatoReal←" class="PatoReal→"  scale="3 3 3"></a-image>
        </a-entity>


        <a-image click-listener src="#CenarioDois" class="CenarioDois" id="Barraca" position="0.1 -5.4 -13.6" scale="12 12 12"></a-image>
        <a-image click-listener src="#ParteInferiorBarraca" class="FundoBarraca" id="Barraca" position="0 -6 -13" scale="12 12 12"></a-image>  
        <a-image click-listener src="#ParteSuperiorBarraca" class="ParteSuperiorBarraca" id="Barraca" position="-0.1 8 -14" scale="12 12 12"></a-image>  
      </a-entity>

      <a-entity id="main-camera-wrapper">
        <a-camera id="main-camera">
        <a-gui-cursor visible="false"  raycaster="objects: [gui-interactable]" fuse="false" color="#ff0000" hover-color="#ff0000" active-color="#ff0000" design="cross">
        </a-gui-cursor> 
        </a-camera>
      </a-entity>

      <a-text position="-0.65 2 -4" value="" ></a-text>

      <a-entity id="main-camera-wrapper">
        <a-camera id="sub-camera" visible="true">
        <a-cursor id="fuse-cursor" material="opacity: 0;" position="0 0 -1" 
          animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150"
          animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 1500"
          event-set__mouseenter="_event: mouseenter; color: springgreen"
          event-set__mouseleave="_event: mouseleave; color: black"
          raycaster="objects: .link"></a-cursor>
          <a-image width="0.05" height="0.05" src="#mira" position="0 0 -.99"></a-image>
        </a-camera>
      </a-entity>

    </a-scene>

    <script>

      function initTelepata() {
        document.getElementById('menuFases').setAttribute("position", "0 0.8 14");
        document.getElementById('menuFases').setAttribute("visible", "false");
        document.getElementById('Telepata').setAttribute("position", "0 0 0");
        document.getElementById('Telepata').setAttribute("visible", "true");

        let mandarim1 = document.getElementById('Mandarim1');
        let filhote1 = document.getElementById('Filhote1');
        let patoreal1 = document.getElementById('PatoReal1');

        patoreal1.setAttribute("visible", "false");
        filhote1.setAttribute("visible", "false");
        mandarim1.setAttribute("visible", "false");

// ----------------------------------Rodada1--------------------------------------------- //

        setTimeout(function () {
          patoreal1.setAttribute("animation", "property: position; to: -4.5 -1.3 -14.2; easing: linear; dur: 4000;")
          patoreal1.setAttribute("visible", "true");
            setTimeout(function () {
              patoreal1.setAttribute("visible", "false");
              }, 4000);
          }, 1000);
        setTimeout(function () {
          mandarim1.setAttribute("animation", "property: position; to: 4.5 0.5 -16; easing: linear; dur: 4000")
          mandarim1.setAttribute("visible", "true");
            setTimeout(function () {
              mandarim1.setAttribute("visible", "false");
              }, 4000);
          }, 1000);
        setTimeout(function () {
          filhote1.setAttribute("animation", "property: position; to: 4.5 0.5 -15; easing: linear; dur: 3000")
          filhote1.setAttribute("visible", "true");
            setTimeout(function () {
              filhote1.setAttribute("visible", "false");
              }, 3000);
          }, 1000); 
        }
        
// ----------------------------------Rodada2--------------------------------------------- //


    AFRAME.registerComponent('click-listener', {
      init: function () {
        this.el.addEventListener('click', function (evt) {
          alert("Clicado")
        });
      }
    });

      function closeMenuFases() {
        document.getElementById('menuFases').setAttribute("visible", "false");
        document.getElementById('menuFases').setAttribute("position", "0 10 14");
        document.getElementById('inicial').setAttribute("position", "0 0 0");
        document.getElementById('inicial').setAttribute("visible", "true");
      }

      function openMenuFases() {
        document.getElementById('inicial').setAttribute("visible", "false");
        document.getElementById('inicial').setAttribute("position", "0 0.8 14");
        document.getElementById('menuFases').setAttribute("position", "0 0 0");
        document.getElementById('menuFases').setAttribute("visible", "true");
      }

    </script>

</body>
</html>